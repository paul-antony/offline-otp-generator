(this["webpackJsonpoffline-otp-generator"]=this["webpackJsonpoffline-otp-generator"]||[]).push([[0],{19:function(e,t,n){},27:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=n(11),o=n.n(s),i=(n(19),n(5)),l=n(6),h=n(3),u=n(8),d=n(7),j=n(10),b=n.n(j),g=n(13);var v=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(g.a,{delay:50,onError:e.handleError,onScan:e.handleScan,style:{height:652,width:480}})})},O=(n(27),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(i.a)(this,n),r=t.call(this,e),console.log(e);var a=new Date;return r.state={generator:e.generator,otp:e.generator.getTOTP(),time:a.getSeconds()%30},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var e=(new Date).getSeconds()%30;this.setState({time:e}),0===e&&this.setState({otp:this.state.generator.getTOTP()})}},{key:"render",value:function(){var e=.5-this.state.time/30*.5,t={transform:"rotate(".concat(e,"turn)")};return Object(r.jsxs)("div",{className:"otp--body",children:[Object(r.jsx)("div",{className:"gauge",children:Object(r.jsxs)("div",{className:"gauge__body",children:[Object(r.jsx)("div",{className:"gauge__fill",style:t}),Object(r.jsx)("div",{className:"gauge__cover",children:30-this.state.time})]})}),Object(r.jsxs)("div",{className:"otp--box",children:[Object(r.jsx)("div",{className:" otp--number",children:this.state.otp.slice(0,2)}),Object(r.jsx)("div",{className:"otp--number",children:this.state.otp.slice(2,4)}),Object(r.jsx)("div",{className:"otp--number",children:this.state.otp.slice(4)})]}),Object(r.jsx)("button",{className:"btn",onClick:this.props.resetSecret,children:"Reset Secret"})]})}}]),n}(a.Component)),m=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(i.a)(this,n),r=t.call(this,e);var a=localStorage.getItem("secret")||null;return r.state={secret:a,generator:null!=a?new b.a(a,"base32"):null},r.handleScan=r.handleScan.bind(Object(h.a)(r)),r.handleError=r.handleError.bind(Object(h.a)(r)),r.clearSecret=r.clearSecret.bind(Object(h.a)(r)),r}return Object(l.a)(n,[{key:"handleScan",value:function(e){console.log(e),null!=e&&(this.setState({secret:e,generator:new b.a(e,"base32")}),localStorage.setItem("secret",e),console.log(e))}},{key:"handleError",value:function(e){console.error(e)}},{key:"clearSecret",value:function(){this.setState({secret:null,generator:null}),localStorage.removeItem("secret")}},{key:"render",value:function(){return null===this.state.secret?Object(r.jsxs)("div",{children:[Object(r.jsx)(v,{handleScan:this.handleScan,handleError:this.handleError}),Object(r.jsx)("p",{children:this.state.secret})]}):Object(r.jsx)("div",{children:Object(r.jsx)(O,{generator:this.state.generator,resetSecret:this.clearSecret})})}}]),n}(a.Component),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(28);o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(m,{})}),document.getElementById("root")),f()}},[[30,1,2]]]);
//# sourceMappingURL=main.c5827db0.chunk.js.map